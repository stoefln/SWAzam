/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
drop table FINGERPRINT if exists
drop table FINGERPRINT_SUBFINGERPRINT if exists
drop table SONG if exists
drop table SUBFINGERPRINT if exists
drop table public.PEER if exists
drop table public.request if exists
drop table public.user if exists
create table FINGERPRINT (FINGERPRINT_ID bigint generated by default as identity (start with 1), SHIFT_DURATION double, START_TIME double, primary key (FINGERPRINT_ID))
create table FINGERPRINT_SUBFINGERPRINT (FINGERPRINT_ID bigint not null, SUBFINGERPRINT_ID bigint not null)
create table SONG (SONG_ID bigint generated by default as identity (start with 1), ALBUM varchar(255) not null, ARTIST varchar(255) not null, TITLE varchar(255) not null, YEAR bigint not null, FINGERPINT_ID bigint, primary key (SONG_ID))
create table SUBFINGERPRINT (SUBFINGERPRINT_ID bigint generated by default as identity (start with 1), VALUE integer, primary key (SUBFINGERPRINT_ID))
create table public.PEER (id integer generated by default as identity (start with 1), ip varchar(15) not null, port integer not null, user_id integer not null, primary key (id))
create table public.request (id integer generated by default as identity (start with 1), created timestamp not null, fingerprint varbinary(255) not null, resent timestamp, response varbinary(255), solved timestamp, sender_id integer not null, solver_id integer, primary key (id))
create table public.user (id integer generated by default as identity (start with 1), coins integer not null, password varchar(40) not null, token varchar(64) not null, username varchar(16) not null, primary key (id))
alter table FINGERPRINT_SUBFINGERPRINT add constraint FKB1C8F77FDF62B89E foreign key (SUBFINGERPRINT_ID) references SUBFINGERPRINT
alter table FINGERPRINT_SUBFINGERPRINT add constraint FKB1C8F77F5BACD436 foreign key (FINGERPRINT_ID) references FINGERPRINT
alter table SONG add constraint FK26ED15449D3632 foreign key (FINGERPINT_ID) references FINGERPRINT
alter table public.PEER add constraint FK256962179805E foreign key (user_id) references public.user
alter table public.request add constraint FK414EF28FC29C1B4 foreign key (sender_id) references public.user
alter table public.request add constraint FK414EF28FCFE04716 foreign key (solver_id) references public.user
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
